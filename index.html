<!DOCTYPE html>
<!-- saved from url=(0050)http://gridster.net/demos/grid-from-serialize.html -->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Demo Â» Serialize</title>
	<link rel="stylesheet" type="text/css" href="./css/jquery.gridster.css">
	<link rel="stylesheet" type="text/css" href="./css/demo.css">
	<link rel="stylesheet" type="text/css" href="./css/builder.css">
</head>

<body>
	<div class="directions">
		<h1>Build grid from serialized positions</h1>
		<p>Build a entire new grid from previously stored positions obtained with <code>serialize</code> method.</p>
	</div>


	<div class="controls">
		<div class="build">
			<div class="adding">
				<!-- <span id="add_div" class="btn"><span class="icon-add"></span>Divider</span> -->
				<span id="add_block" class="btn"><span class="icon-add"></span>Row</span>
			</div>
			<div class="adjusters">
				<span class="btn block_unlock"><span class="icon-edit"></span>Boxes</span>
			</div>
		</div>
	</div>
	<div class="gridster">
		<ul></ul>
	</div>

	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/jquery.gridster.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/style.js"></script>

	<script type="text/javascript">
		var gridster;

		// same object than generated with gridster.serialize() method
		var serialization = [

			{ col: 1, row: 1, size_x: 1, size_y: 5, col_alpha: A, row_number: 1 },
			{ col: 2, row: 1, size_x: 1, size_y: 5, col_alpha: B, row_number: 2 },
			{ col: 3, row: 1, size_x: 1, size_y: 5, col_alpha: C, row_number: 3 },
			{ col: 4, row: 1, size_x: 1, size_y: 5, col_alpha: D, row_number: 4 },
			{ col: 5, row: 1, size_x: 1, size_y: 5, col_alpha: E, row_number: 5 },
			{ col: 6, row: 1, size_x: 1, size_y: 5, col_alpha: F, row_number: 6 },
			{ col: 7, row: 1, size_x: 1, size_y: 5, col_alpha: G, row_number: 7 },
			{ col: 8, row: 1, size_x: 1, size_y: 5, col_alpha: H, row_number: 8 },
			{ col: 9, row: 1, size_x: 1, size_y: 5, col_alpha: I, row_number: 9 },
			{ col: 10, row: 1, size_x: 1, size_y: 5, col_alpha: J, row_number: 10 },
			{ col: 11, row: 1, size_x: 1, size_y: 5, col_alpha: K, row_number: 11 },
			{ col: 12, row: 1, size_x: 1, size_y: 5, col_alpha: L, row_number: 12 },
			{ col: 13, row: 1, size_x: 1, size_y: 5, col_alpha: M, row_number: 13 },
			{ col: 14, row: 1, size_x: 1, size_y: 5, col_alpha: N, row_number: 14 },
			{ col: 15, row: 1, size_x: 1, size_y: 5, col_alpha: O, row_number: 15 },
			{ col: 16, row: 1, size_x: 1, size_y: 5, col_alpha: P, row_number: 16 },
			{ col: 17, row: 1, size_x: 1, size_y: 5, col_alpha: Q, row_number: 17 }

		];

		// sort serialization
		serialization = Gridster.sort_by_row_and_col_asc(serialization);

		$(function(){

			gridster = $(".gridster ul").gridster({
				widget_base_dimensions: [130, 5],
				widget_margins: [5, 5],
        		min_cols: 17,
                resize: {
                    enabled: false
                }
			}).data('gridster');

			$('#add_block').on('click', function() {
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 1, 1, A, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 2, 1, B, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 3, 1, C, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 4, 1, D, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 5, 1, E, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 6, 1, F, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 7, 1, G, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 8, 1, H, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 9, 1, I, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 10, 1, J, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 11, 1, K, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 12, 1, L, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 13, 1, M, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 14, 1, N, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 15, 1, O, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 16, 1, P, 1);
				gridster.add_widget('<li class="blocking"></li>', 1, 5, 17, 1, Q, 1);
			});
			
			gridster.remove_all_widgets();
			$.each(serialization, function() {
				gridster.add_widget('<li class="blocking nope"></li>', this.size_x, this.size_y, this.col, this.row, this.col_alpha, this.row_number);
			});

			// $('li').addClass('blocking nope');

		});
	</script>


</body>
</html>